<!doctype html>
<html>
<head>
<base href="http://msjcs.github.io" target="_blank"/>
</head>
<style>
td
{
border:0px solid;
border-radius:4px;
}
</style>
<script>
var i;
var j=0;
var let=["A","B","C","D","E","F","G","H","I"];
function zapp(n)
{
if (n.toString().length==1)
{
return "0"+n;
}
else
{
return n;
}
}

function startup()
{
count=0;
pos=4;
field=new Array(24);
for (i=0;i<24;i++)
{
field[i]=new Array(9);
for (j=0;j<9;j++)
{
field[i][j]=0;
}
}

olderow=field[1];
oldrow=field[1];
newrow=field[1];
}


function keyp(e)//Char at E04
{
if (e.keyCode==82)
{
  return gameloop();
}

if ((e.keyCode==38||e.keyCode==87)&&field[3][(pos+8)%9]==0)
{
document.getElementById(let[(pos)%9]+"04").style.backgroundColor="#CCCCCC";
pos+=8;
}
if ((e.keyCode==40||e.keyCode==83)&&field[3][(pos+1)%9]==0)
{
document.getElementById(let[(pos)%9]+"04").style.backgroundColor="#CCCCCC";
pos+=1;
}
pos=pos%9;
for (var i=0;i<9;i++)
{
if(field[3][i]==0){document.getElementById(let[i]+"04").style.backgroundColor=red;}
}


document.getElementById(let[(pos)%9]+"04").style.backgroundColor="#00FF00";
}

function gameloop()
{
olderow=oldrow;

oldrow=newrow;

newrow=new Array(9);

for (j=0;j<9;j++)
{
newrow[j]=0;
}

var tarr=new Array();


for (j=0;j<9;j++)
{

if (oldrow[j]!=1&&olderow[j]!=1)
	{
	tarr.push(j);
	}
}

newrow[tarr[Math.floor((Math.random())*7)]]=1;
field.splice(0,1);
field.push(newrow);


for (i=0;i<24;i++)
{
for (j=0;j<9;j++)
	{
	if (field[i][j]==1)
		{
		document.getElementById(let[j]+zapp(i+1)).style.backgroundColor="#888888";
		}
	else if (i==3)
	{
	document.getElementById(let[j]+zapp(i+1)).style.backgroundColor="#FFFF00";
	}
	else
		{
		document.getElementById(let[j]+zapp(i+1)).style.backgroundColor="#CCCCCC";
		}
	}
}

if (field[3][(pos)%9]==1)
{
alert("you lose!");
startup();
return null;
}
document.getElementById(let[(pos)%9]+"04").style.backgroundColor="#00FF00";
count=count+1;
document.getElementById("test").innerHTML=count;//developer record: 740
setTimeout(gameloop,110);
}








</script>
<body onkeydown="keyp(event);" onload="startup();" bgcolor=#888888>
<center><a href="games.html"><button>Back to games</button></a>
<button onclick="gameloop();">Play!</button></center>








<br/>
<p id="test" style="color:white;"></p>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<table style="margin-left:auto;margin-right:auto;" cellspacing="1" cellpadding="0">
<tr>
<td style="background:white;height:20px;width:20px;" id="A01"></td>
<td style="background:white;height:20px;width:20px;" id="A02"></td>
<td style="background:white;height:20px;width:20px;" id="A03"></td>
<td style="background:white;height:20px;width:20px;" id="A04"></td>
<td style="background:white;height:20px;width:20px;" id="A05"></td>
<td style="background:white;height:20px;width:20px;" id="A06"></td>
<td style="background:white;height:20px;width:20px;" id="A07"></td>
<td style="background:white;height:20px;width:20px;" id="A08"></td>
<td style="background:white;height:20px;width:20px;" id="A09"></td>
<td style="background:white;height:20px;width:20px;" id="A10"></td>
<td style="background:white;height:20px;width:20px;" id="A11"></td>
<td style="background:white;height:20px;width:20px;" id="A12"></td>
<td style="background:white;height:20px;width:20px;" id="A13"></td>
<td style="background:white;height:20px;width:20px;" id="A14"></td>
<td style="background:white;height:20px;width:20px;" id="A15"></td>
<td style="background:white;height:20px;width:20px;" id="A16"></td>
<td style="background:white;height:20px;width:20px;" id="A17"></td>
<td style="background:white;height:20px;width:20px;" id="A18"></td>
<td style="background:white;height:20px;width:20px;" id="A19"></td>
<td style="background:white;height:20px;width:20px;" id="A20"></td>
<td style="background:white;height:20px;width:20px;" id="A21"></td>
<td style="background:white;height:20px;width:20px;" id="A22"></td>
<td style="background:white;height:20px;width:20px;" id="A23"></td>
<td style="background:white;height:20px;width:20px;" id="A24"></td>
</tr>
<tr>
<td style="background:white;height:20px;width:20px;" id="B01"></td>
<td style="background:white;height:20px;width:20px;" id="B02"></td>
<td style="background:white;height:20px;width:20px;" id="B03"></td>
<td style="background:white;height:20px;width:20px;" id="B04"></td>
<td style="background:white;height:20px;width:20px;" id="B05"></td>
<td style="background:white;height:20px;width:20px;" id="B06"></td>
<td style="background:white;height:20px;width:20px;" id="B07"></td>
<td style="background:white;height:20px;width:20px;" id="B08"></td>
<td style="background:white;height:20px;width:20px;" id="B09"></td>
<td style="background:white;height:20px;width:20px;" id="B10"></td>
<td style="background:white;height:20px;width:20px;" id="B11"></td>
<td style="background:white;height:20px;width:20px;" id="B12"></td>
<td style="background:white;height:20px;width:20px;" id="B13"></td>
<td style="background:white;height:20px;width:20px;" id="B14"></td>
<td style="background:white;height:20px;width:20px;" id="B15"></td>
<td style="background:white;height:20px;width:20px;" id="B16"></td>
<td style="background:white;height:20px;width:20px;" id="B17"></td>
<td style="background:white;height:20px;width:20px;" id="B18"></td>
<td style="background:white;height:20px;width:20px;" id="B19"></td>
<td style="background:white;height:20px;width:20px;" id="B20"></td>
<td style="background:white;height:20px;width:20px;" id="B21"></td>
<td style="background:white;height:20px;width:20px;" id="B22"></td>
<td style="background:white;height:20px;width:20px;" id="B23"></td>
<td style="background:white;height:20px;width:20px;" id="B24"></td>
</tr>
<tr>
<td style="background:white;height:20px;width:20px;" id="C01"></td>
<td style="background:white;height:20px;width:20px;" id="C02"></td>
<td style="background:white;height:20px;width:20px;" id="C03"></td>
<td style="background:white;height:20px;width:20px;" id="C04"></td>
<td style="background:white;height:20px;width:20px;" id="C05"></td>
<td style="background:white;height:20px;width:20px;" id="C06"></td>
<td style="background:white;height:20px;width:20px;" id="C07"></td>
<td style="background:white;height:20px;width:20px;" id="C08"></td>
<td style="background:white;height:20px;width:20px;" id="C09"></td>
<td style="background:white;height:20px;width:20px;" id="C10"></td>
<td style="background:white;height:20px;width:20px;" id="C11"></td>
<td style="background:white;height:20px;width:20px;" id="C12"></td>
<td style="background:white;height:20px;width:20px;" id="C13"></td>
<td style="background:white;height:20px;width:20px;" id="C14"></td>
<td style="background:white;height:20px;width:20px;" id="C15"></td>
<td style="background:white;height:20px;width:20px;" id="C16"></td>
<td style="background:white;height:20px;width:20px;" id="C17"></td>
<td style="background:white;height:20px;width:20px;" id="C18"></td>
<td style="background:white;height:20px;width:20px;" id="C19"></td>
<td style="background:white;height:20px;width:20px;" id="C20"></td>
<td style="background:white;height:20px;width:20px;" id="C21"></td>
<td style="background:white;height:20px;width:20px;" id="C22"></td>
<td style="background:white;height:20px;width:20px;" id="C23"></td>
<td style="background:white;height:20px;width:20px;" id="C24"></td>
</tr>
<tr>
<td style="background:white;height:20px;width:20px;" id="D01"></td>
<td style="background:white;height:20px;width:20px;" id="D02"></td>
<td style="background:white;height:20px;width:20px;" id="D03"></td>
<td style="background:white;height:20px;width:20px;" id="D04"></td>
<td style="background:white;height:20px;width:20px;" id="D05"></td>
<td style="background:white;height:20px;width:20px;" id="D06"></td>
<td style="background:white;height:20px;width:20px;" id="D07"></td>
<td style="background:white;height:20px;width:20px;" id="D08"></td>
<td style="background:white;height:20px;width:20px;" id="D09"></td>
<td style="background:white;height:20px;width:20px;" id="D10"></td>
<td style="background:white;height:20px;width:20px;" id="D11"></td>
<td style="background:white;height:20px;width:20px;" id="D12"></td>
<td style="background:white;height:20px;width:20px;" id="D13"></td>
<td style="background:white;height:20px;width:20px;" id="D14"></td>
<td style="background:white;height:20px;width:20px;" id="D15"></td>
<td style="background:white;height:20px;width:20px;" id="D16"></td>
<td style="background:white;height:20px;width:20px;" id="D17"></td>
<td style="background:white;height:20px;width:20px;" id="D18"></td>
<td style="background:white;height:20px;width:20px;" id="D19"></td>
<td style="background:white;height:20px;width:20px;" id="D20"></td>
<td style="background:white;height:20px;width:20px;" id="D21"></td>
<td style="background:white;height:20px;width:20px;" id="D22"></td>
<td style="background:white;height:20px;width:20px;" id="D23"></td>
<td style="background:white;height:20px;width:20px;" id="D24"></td>
</tr>
<tr>
<td style="background:white;height:20px;width:20px;" id="E01"></td>
<td style="background:white;height:20px;width:20px;" id="E02"></td>
<td style="background:white;height:20px;width:20px;" id="E03"></td>
<td style="background:blue;height:20px;width:20px;" id="E04"></td>
<td style="background:white;height:20px;width:20px;" id="E05"></td>
<td style="background:white;height:20px;width:20px;" id="E06"></td>
<td style="background:white;height:20px;width:20px;" id="E07"></td>
<td style="background:white;height:20px;width:20px;" id="E08"></td>
<td style="background:white;height:20px;width:20px;" id="E09"></td>
<td style="background:white;height:20px;width:20px;" id="E10"></td>
<td style="background:white;height:20px;width:20px;" id="E11"></td>
<td style="background:white;height:20px;width:20px;" id="E12"></td>
<td style="background:white;height:20px;width:20px;" id="E13"></td>
<td style="background:white;height:20px;width:20px;" id="E14"></td>
<td style="background:white;height:20px;width:20px;" id="E15"></td>
<td style="background:white;height:20px;width:20px;" id="E16"></td>
<td style="background:white;height:20px;width:20px;" id="E17"></td>
<td style="background:white;height:20px;width:20px;" id="E18"></td>
<td style="background:white;height:20px;width:20px;" id="E19"></td>
<td style="background:white;height:20px;width:20px;" id="E20"></td>
<td style="background:white;height:20px;width:20px;" id="E21"></td>
<td style="background:white;height:20px;width:20px;" id="E22"></td>
<td style="background:white;height:20px;width:20px;" id="E23"></td>
<td style="background:white;height:20px;width:20px;" id="E24"></td>
</tr>
<tr>
<td style="background:white;height:20px;width:20px;" id="F01"></td>
<td style="background:white;height:20px;width:20px;" id="F02"></td>
<td style="background:white;height:20px;width:20px;" id="F03"></td>
<td style="background:white;height:20px;width:20px;" id="F04"></td>
<td style="background:white;height:20px;width:20px;" id="F05"></td>
<td style="background:white;height:20px;width:20px;" id="F06"></td>
<td style="background:white;height:20px;width:20px;" id="F07"></td>
<td style="background:white;height:20px;width:20px;" id="F08"></td>
<td style="background:white;height:20px;width:20px;" id="F09"></td>
<td style="background:white;height:20px;width:20px;" id="F10"></td>
<td style="background:white;height:20px;width:20px;" id="F11"></td>
<td style="background:white;height:20px;width:20px;" id="F12"></td>
<td style="background:white;height:20px;width:20px;" id="F13"></td>
<td style="background:white;height:20px;width:20px;" id="F14"></td>
<td style="background:white;height:20px;width:20px;" id="F15"></td>
<td style="background:white;height:20px;width:20px;" id="F16"></td>
<td style="background:white;height:20px;width:20px;" id="F17"></td>
<td style="background:white;height:20px;width:20px;" id="F18"></td>
<td style="background:white;height:20px;width:20px;" id="F19"></td>
<td style="background:white;height:20px;width:20px;" id="F20"></td>
<td style="background:white;height:20px;width:20px;" id="F21"></td>
<td style="background:white;height:20px;width:20px;" id="F22"></td>
<td style="background:white;height:20px;width:20px;" id="F23"></td>
<td style="background:white;height:20px;width:20px;" id="F24"></td>
</tr>
<tr>
<td style="background:white;height:20px;width:20px;" id="G01"></td>
<td style="background:white;height:20px;width:20px;" id="G02"></td>
<td style="background:white;height:20px;width:20px;" id="G03"></td>
<td style="background:white;height:20px;width:20px;" id="G04"></td>
<td style="background:white;height:20px;width:20px;" id="G05"></td>
<td style="background:white;height:20px;width:20px;" id="G06"></td>
<td style="background:white;height:20px;width:20px;" id="G07"></td>
<td style="background:white;height:20px;width:20px;" id="G08"></td>
<td style="background:white;height:20px;width:20px;" id="G09"></td>
<td style="background:white;height:20px;width:20px;" id="G10"></td>
<td style="background:white;height:20px;width:20px;" id="G11"></td>
<td style="background:white;height:20px;width:20px;" id="G12"></td>
<td style="background:white;height:20px;width:20px;" id="G13"></td>
<td style="background:white;height:20px;width:20px;" id="G14"></td>
<td style="background:white;height:20px;width:20px;" id="G15"></td>
<td style="background:white;height:20px;width:20px;" id="G16"></td>
<td style="background:white;height:20px;width:20px;" id="G17"></td>
<td style="background:white;height:20px;width:20px;" id="G18"></td>
<td style="background:white;height:20px;width:20px;" id="G19"></td>
<td style="background:white;height:20px;width:20px;" id="G20"></td>
<td style="background:white;height:20px;width:20px;" id="G21"></td>
<td style="background:white;height:20px;width:20px;" id="G22"></td>
<td style="background:white;height:20px;width:20px;" id="G23"></td>
<td style="background:white;height:20px;width:20px;" id="G24"></td>
</tr>
<tr>
<td style="background:white;height:20px;width:20px;" id="H01"></td>
<td style="background:white;height:20px;width:20px;" id="H02"></td>
<td style="background:white;height:20px;width:20px;" id="H03"></td>
<td style="background:white;height:20px;width:20px;" id="H04"></td>
<td style="background:white;height:20px;width:20px;" id="H05"></td>
<td style="background:white;height:20px;width:20px;" id="H06"></td>
<td style="background:white;height:20px;width:20px;" id="H07"></td>
<td style="background:white;height:20px;width:20px;" id="H08"></td>
<td style="background:white;height:20px;width:20px;" id="H09"></td>
<td style="background:white;height:20px;width:20px;" id="H10"></td>
<td style="background:white;height:20px;width:20px;" id="H11"></td>
<td style="background:white;height:20px;width:20px;" id="H12"></td>
<td style="background:white;height:20px;width:20px;" id="H13"></td>
<td style="background:white;height:20px;width:20px;" id="H14"></td>
<td style="background:white;height:20px;width:20px;" id="H15"></td>
<td style="background:white;height:20px;width:20px;" id="H16"></td>
<td style="background:white;height:20px;width:20px;" id="H17"></td>
<td style="background:white;height:20px;width:20px;" id="H18"></td>
<td style="background:white;height:20px;width:20px;" id="H19"></td>
<td style="background:white;height:20px;width:20px;" id="H20"></td>
<td style="background:white;height:20px;width:20px;" id="H21"></td>
<td style="background:white;height:20px;width:20px;" id="H22"></td>
<td style="background:white;height:20px;width:20px;" id="H23"></td>
<td style="background:white;height:20px;width:20px;" id="H24"></td>
</tr>
<tr>
<td style="background:white;height:20px;width:20px;" id="I01"></td>
<td style="background:white;height:20px;width:20px;" id="I02"></td>
<td style="background:white;height:20px;width:20px;" id="I03"></td>
<td style="background:white;height:20px;width:20px;" id="I04"></td>
<td style="background:white;height:20px;width:20px;" id="I05"></td>
<td style="background:white;height:20px;width:20px;" id="I06"></td>
<td style="background:white;height:20px;width:20px;" id="I07"></td>
<td style="background:white;height:20px;width:20px;" id="I08"></td>
<td style="background:white;height:20px;width:20px;" id="I09"></td>
<td style="background:white;height:20px;width:20px;" id="I10"></td>
<td style="background:white;height:20px;width:20px;" id="I11"></td>
<td style="background:white;height:20px;width:20px;" id="I12"></td>
<td style="background:white;height:20px;width:20px;" id="I13"></td>
<td style="background:white;height:20px;width:20px;" id="I14"></td>
<td style="background:white;height:20px;width:20px;" id="I15"></td>
<td style="background:white;height:20px;width:20px;" id="I16"></td>
<td style="background:white;height:20px;width:20px;" id="I17"></td>
<td style="background:white;height:20px;width:20px;" id="I18"></td>
<td style="background:white;height:20px;width:20px;" id="I19"></td>
<td style="background:white;height:20px;width:20px;" id="I20"></td>
<td style="background:white;height:20px;width:20px;" id="I21"></td>
<td style="background:white;height:20px;width:20px;" id="I22"></td>
<td style="background:white;height:20px;width:20px;" id="I23"></td>
<td style="background:white;height:20px;width:20px;" id="I24"></td>
</tr>
</table>




</body>
</html>
